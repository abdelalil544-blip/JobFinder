<main class="relative min-h-screen">
  <!-- Dynamic Background Blobs -->
  <div class="pointer-events-none fixed inset-0 overflow-hidden">
    <div
      class="absolute -left-[10%] -top-[10%] h-[50%] w-[50%] rounded-full bg-[color:var(--mint-100)] opacity-40 blur-[120px] animate-pulse">
    </div>
    <div
      class="absolute -right-[10%] top-[10%] h-[40%] w-[40%] rounded-full bg-[color:var(--gold-500)] opacity-10 blur-[100px]">
    </div>
    <div
      class="absolute bottom-[-10%] left-[20%] h-[40%] w-[40%] rounded-full bg-[color:var(--teal-500)] opacity-5 blur-[100px]">
    </div>
  </div>

  <div class="relative mx-auto flex min-h-screen w-full max-w-7xl items-center px-4 py-12 sm:px-6 lg:px-8">
    <div
      class="w-full rounded-[3rem] bg-white/40 p-4 shadow-[0_32px_120px_rgba(0,0,0,0.08)] backdrop-blur-2xl border border-white/50 sm:p-6 lg:p-8">
      <div class="rounded-[2.5rem] bg-white/60 p-6 sm:p-10 shadow-inner border border-white/20">
        <header class="mb-6 flex flex-wrap items-center justify-between gap-3">
          <a class="text-sm font-semibold uppercase tracking-[0.2em] text-[color:var(--teal-700)]" routerLink="/jobs">
            JobFinder
          </a>

          <div class="flex flex-wrap items-center gap-2" *ngIf="currentUser$ | async as user; else guestActions">
            <a class="rounded-xl border border-black/10 bg-white/80 px-3 py-2 text-xs font-semibold text-[color:var(--ink-700)] transition hover:border-[color:var(--teal-600)]"
              routerLink="/profile">
              {{ user.firstName }}
            </a>
            <a class="rounded-xl border border-black/10 bg-white/80 px-3 py-2 text-xs font-semibold text-[color:var(--ink-700)] transition hover:border-[color:var(--teal-600)]"
              routerLink="/favorites">
              Favoris
            </a>
            <a class="rounded-xl border border-black/10 bg-white/80 px-3 py-2 text-xs font-semibold text-[color:var(--ink-700)] transition hover:border-[color:var(--teal-600)]"
              routerLink="/applications">
              Candidatures
            </a>
            <button
              class="rounded-xl bg-[color:var(--teal-600)] px-3 py-2 text-xs font-semibold text-white transition hover:bg-[color:var(--teal-700)]"
              type="button" (click)="logout()">
              Deconnexion
            </button>
          </div>

          <ng-template #guestActions>
            <div class="flex flex-wrap items-center gap-2">
              <a class="rounded-xl border border-black/10 bg-white/80 px-3 py-2 text-xs font-semibold text-[color:var(--ink-700)] transition hover:border-[color:var(--teal-600)]"
                routerLink="/auth/login">
                Connexion
              </a>
              <a class="rounded-xl bg-[color:var(--teal-600)] px-3 py-2 text-xs font-semibold text-white transition hover:bg-[color:var(--teal-700)]"
                routerLink="/auth/register">
                Inscription
              </a>
            </div>
          </ng-template>
        </header>

        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</main>